<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.85.0"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Code Generation Tool | CloudWeGo</title><meta name=description content="A leading practice for building enterprise cloud native middleware!"><meta property="og:title" content="Code Generation Tool"><meta property="og:description" content="kitex is a command line tool for code generation provided by the RPC framework Kitex. At present, kitex accepts both thrift and protobuf IDLs, and supports generating a skeleton of a server side project.
Installation go install github.com/cloudwego/kitex/tool/cmd/kitex You can use the go command to install kitex or build and install it from source. To check where kitex will be installed, try
go list -f {{.Target}} github.com/cloudwego/kitex/tool/cmd/kitex Notice: kitex will creates symbol links to itself, so please ensure kitex has a write permission to the directory where it is placed."><meta property="og:type" content="article"><meta property="og:url" content="/docs/kitex/tutorials/code-gen/code_generation/"><meta property="article:section" content="docs"><meta property="article:published_time" content="2021-08-31T00:00:00+00:00"><meta property="article:modified_time" content="2022-03-28T17:05:03+08:00"><meta property="og:site_name" content="CloudWeGo"><meta itemprop=name content="Code Generation Tool"><meta itemprop=description content="kitex is a command line tool for code generation provided by the RPC framework Kitex. At present, kitex accepts both thrift and protobuf IDLs, and supports generating a skeleton of a server side project.
Installation go install github.com/cloudwego/kitex/tool/cmd/kitex You can use the go command to install kitex or build and install it from source. To check where kitex will be installed, try
go list -f {{.Target}} github.com/cloudwego/kitex/tool/cmd/kitex Notice: kitex will creates symbol links to itself, so please ensure kitex has a write permission to the directory where it is placed."><meta itemprop=datePublished content="2021-08-31T00:00:00+00:00"><meta itemprop=dateModified content="2022-03-28T17:05:03+08:00"><meta itemprop=wordCount content="1227"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Code Generation Tool"><meta name=twitter:description content="kitex is a command line tool for code generation provided by the RPC framework Kitex. At present, kitex accepts both thrift and protobuf IDLs, and supports generating a skeleton of a server side project.
Installation go install github.com/cloudwego/kitex/tool/cmd/kitex You can use the go command to install kitex or build and install it from source. To check where kitex will be installed, try
go list -f {{.Target}} github.com/cloudwego/kitex/tool/cmd/kitex Notice: kitex will creates symbol links to itself, so please ensure kitex has a write permission to the directory where it is placed."><script async src="https://www.googletagmanager.com/gtag/js?id=G-QYWRQRLPRM"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-QYWRQRLPRM')</script><link rel=preload href=/scss/main.min.21b6ee4b17f40145c62c9a4776d86cf33fbb76d5dab11a8168b90e2eeb0ff326.css as=style><link href=/scss/main.min.21b6ee4b17f40145c62c9a4776d86cf33fbb76d5dab11a8168b90e2eeb0ff326.css rel=stylesheet integrity><script src=https://cdn.staticfile.org/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','G-QYWRQRLPRM','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><img src=/img/logo.png></span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="dropdown sub-menu"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><span>Documentation</span></a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/kitex/>Kitex</a>
<a class=dropdown-item href=/docs/netpoll/>Netpoll</a></div></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/blog/><span>Blog</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/community/><span>Community</span></a></li><li class="nav-item dropdown mr-4 d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/kitex/tutorials/code-gen/code_generation/>中文</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/zh/docs/kitex/tutorials/code-gen/code_generation/>中文</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docs-li><a href=/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docskitex-li><a href=/docs/kitex/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docskitex><span>Kitex</span></a><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitexoverview-li><a href=/docs/kitex/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docskitexoverview><span>Overview</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitexgetting-started-li><a href=/docs/kitex/getting-started/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docskitexgetting-started><span>Getting Started</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docskitextutorials-li><a href=/docs/kitex/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docskitextutorials><span>Tutorials</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docskitextutorialsbasic-feature-li><a href=/docs/kitex/tutorials/basic-feature/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docskitextutorialsbasic-feature><span>Basic Feature</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsbasic-featuremessage_type-li><a href=/docs/kitex/tutorials/basic-feature/message_type/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsbasic-featuremessage_type><span>Message Types</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsbasic-featureserialization_protocol-li><a href=/docs/kitex/tutorials/basic-feature/serialization_protocol/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsbasic-featureserialization_protocol><span>Serialization Protocol</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsbasic-featurevisit_directly-li><a href=/docs/kitex/tutorials/basic-feature/visit_directly/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsbasic-featurevisit_directly><span>Visit Directly</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsbasic-featureconnection_type-li><a href=/docs/kitex/tutorials/basic-feature/connection_type/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsbasic-featureconnection_type><span>Connection Type</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsbasic-featuretimeout-li><a href=/docs/kitex/tutorials/basic-feature/timeout/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsbasic-featuretimeout><span>Timeouts</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsbasic-featureretry-li><a href=/docs/kitex/tutorials/basic-feature/retry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsbasic-featureretry><span>Retry</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsbasic-featureloadbalance-li><a href=/docs/kitex/tutorials/basic-feature/loadbalance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsbasic-featureloadbalance><span>LoadBalancer</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsbasic-featurecircuitbreaker-li><a href=/docs/kitex/tutorials/basic-feature/circuitbreaker/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsbasic-featurecircuitbreaker><span>Circuit Breaker</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsbasic-featurelimiting-li><a href=/docs/kitex/tutorials/basic-feature/limiting/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsbasic-featurelimiting><span>Rate Limiting</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsbasic-featuretracing-li><a href=/docs/kitex/tutorials/basic-feature/tracing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsbasic-featuretracing><span>Instrumentation Control</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsbasic-featurelogging-li><a href=/docs/kitex/tutorials/basic-feature/logging/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsbasic-featurelogging><span>Logging</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsbasic-featurehttp_resolver-li><a href=/docs/kitex/tutorials/basic-feature/http_resolver/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsbasic-featurehttp_resolver><span>HTTPResolver</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docskitextutorialsservice-governance-li><a href=/docs/kitex/tutorials/service-governance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docskitextutorialsservice-governance><span>Service Governance</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsservice-governancediscovery-li><a href=/docs/kitex/tutorials/service-governance/discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsservice-governancediscovery><span>Service Discovery</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsservice-governancemonitoring-li><a href=/docs/kitex/tutorials/service-governance/monitoring/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsservice-governancemonitoring><span>Monitoring</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsservice-governancetracing-li><a href=/docs/kitex/tutorials/service-governance/tracing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsservice-governancetracing><span>Tracing</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsservice-governanceaccess_control-li><a href=/docs/kitex/tutorials/service-governance/access_control/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsservice-governanceaccess_control><span>Customized Access Control</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docskitextutorialsadvanced-feature-li><a href=/docs/kitex/tutorials/advanced-feature/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docskitextutorialsadvanced-feature><span>Advanced Feature</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsadvanced-featuregeneric_call-li><a href=/docs/kitex/tutorials/advanced-feature/generic_call/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsadvanced-featuregeneric_call><span>Generic Call</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsadvanced-featureinvoker-li><a href=/docs/kitex/tutorials/advanced-feature/invoker/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsadvanced-featureinvoker><span>Server SDK Mode</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsadvanced-featuremetainfo-li><a href=/docs/kitex/tutorials/advanced-feature/metainfo/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsadvanced-featuremetainfo><span>Metainfo</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-docskitextutorialscode-gen-li><a href=/docs/kitex/tutorials/code-gen/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docskitextutorialscode-gen><span>Code Generation</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-docskitextutorialscode-gencode_generation-li><a href=/docs/kitex/tutorials/code-gen/code_generation/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialscode-gencode_generation><span class=td-sidebar-nav-active-item>Code Generation Tool</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialscode-gencombine_service-li><a href=/docs/kitex/tutorials/code-gen/combine_service/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialscode-gencombine_service><span>Combine Service</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docskitextutorialsframework-exten-li><a href=/docs/kitex/tutorials/framework-exten/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docskitextutorialsframework-exten><span>Framework Extension</span></a><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsframework-extenmiddleware-li><a href=/docs/kitex/tutorials/framework-exten/middleware/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsframework-extenmiddleware><span>Middleware Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsframework-extensuite-li><a href=/docs/kitex/tutorials/framework-exten/suite/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsframework-extensuite><span>Suite Extensions</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsframework-extenregistry-li><a href=/docs/kitex/tutorials/framework-exten/registry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsframework-extenregistry><span>Extension of Service Registry</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsframework-extenservice_discovery-li><a href=/docs/kitex/tutorials/framework-exten/service_discovery/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsframework-extenservice_discovery><span>Service Discovery Extension</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsframework-extenloadbalance-li><a href=/docs/kitex/tutorials/framework-exten/loadbalance/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsframework-extenloadbalance><span>Customize LoadBalancer</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsframework-extenmonitoring-li><a href=/docs/kitex/tutorials/framework-exten/monitoring/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsframework-extenmonitoring><span>Monitoring Extension</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsframework-extencodec-li><a href=/docs/kitex/tutorials/framework-exten/codec/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsframework-extencodec><span>Extension of Codec</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsframework-extentransport-li><a href=/docs/kitex/tutorials/framework-exten/transport/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsframework-extentransport><span>Extension of Transport Module</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsframework-extentransmeta-li><a href=/docs/kitex/tutorials/framework-exten/transmeta/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsframework-extentransmeta><span>Extension of Metadata Transparent Transmission</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsframework-extentrans_pipeline-li><a href=/docs/kitex/tutorials/framework-exten/trans_pipeline/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsframework-extentrans_pipeline><span>Extension of Transport Pipeline-Bound</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitextutorialsframework-extendiagnosis-li><a href=/docs/kitex/tutorials/framework-exten/diagnosis/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitextutorialsframework-extendiagnosis><span>Extension of Diagnosis</span></a></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docskitexreference-li><a href=/docs/kitex/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docskitexreference><span>Reference</span></a><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitexreferencetransport_protocol_ttheader-li><a href=/docs/kitex/reference/transport_protocol_ttheader/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitexreferencetransport_protocol_ttheader><span>Transport Protocol</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitexreferenceexception-li><a href=/docs/kitex/reference/exception/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitexreferenceexception><span>Exception Instruction</span></a></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitexreferenceversion-li><a href=/docs/kitex/reference/version/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-docskitexreferenceversion><span>Version Specification</span></a></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docskitexfaq-li><a href=/docs/kitex/faq/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-docskitexfaq><span>FAQ</span></a></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/cloudwego/cloudwego.github.io/edit/main/content/en/docs/kitex/Tutorials/code-gen/code_generation.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/new/main/content/en/docs/kitex/Tutorials/code-gen/code_generation.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/cloudwego/cloudwego.github.io/issues/new?title=Code%20Generation%20Tool" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/cloudwego/kitex/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a></div><div class=td-toc><nav id=TableOfContents><ul><li><a href=#installation>Installation</a></li><li><a href=#dependencies-and-running-mode>Dependencies and Running Mode</a><ul><li><a href=#the-underlying-compilers>The Underlying Compilers</a></li><li><a href=#library-dependencies>Library Dependencies</a></li><li><a href=#notes-for-using-protobuf-idls>Notes for Using Protobuf IDLs</a></li></ul></li><li><a href=#usage>Usage</a><ul><li><a href=#basic-usage>Basic Usage</a></li><li><a href=#the-structure-of-generated-codes>The Structure of Generated Codes</a></li><li><a href=#options>Options</a></li><li><a href=#advanced-options>Advanced Options</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/docs/>Documentation</a></li><li class=breadcrumb-item><a href=/docs/kitex/>Kitex</a></li><li class=breadcrumb-item><a href=/docs/kitex/tutorials/>Tutorials</a></li><li class=breadcrumb-item><a href=/docs/kitex/tutorials/code-gen/>Code Generation</a></li><li class="breadcrumb-item active" aria-current=page><a href=/docs/kitex/tutorials/code-gen/code_generation/>Code Generation Tool</a></li></ol></nav><div class=td-content><h1>Code Generation Tool</h1><header class=article-meta></header><p><strong>kitex</strong> is a command line tool for code generation provided by the RPC framework <strong>Kitex</strong>. At present, kitex accepts both thrift and protobuf IDLs, and supports generating a skeleton of a server side project.</p><h2 id=installation>Installation</h2><pre><code>go install github.com/cloudwego/kitex/tool/cmd/kitex
</code></pre><p>You can use the go command to install kitex or build and install it from source. To check where kitex will be installed, try</p><pre><code>go list -f {{.Target}} github.com/cloudwego/kitex/tool/cmd/kitex
</code></pre><p><strong>Notice</strong>: kitex will creates symbol links to itself, so please ensure kitex has a write permission to the directory where it is placed.</p><h2 id=dependencies-and-running-mode>Dependencies and Running Mode</h2><h3 id=the-underlying-compilers>The Underlying Compilers</h3><p>To generate code for an IDL, the corresponding compiler must be installed ahead: <a href=https://github.com/cloudwego/thriftgo>thriftgo</a> for thrift IDLs and <a href=https://github.com/protocolbuffers/protobuf/releases>protoc</a> for protobuf IDLs.</p><p>Codes generated by kitex consists of two parts: some generated by the underlying compiler (usually serialization and deserialization codes for structures defined in the IDLs) and some glue codes generated by kitex to connect the former and the Kitex framework.</p><p>In a execution flow, when kitex is run to generate code for a thrift IDL, it invokes thriftgo to do code generation while itself as a plugin for thriftgo (so called &lsquo;thrift-gen-kitex&rsquo;) generates some glue codes, too. For protobuf IDLs, the process is similar.</p><p>Thus, the name of the kitex executable when it is run decides its running mode &ndash; as a command line entry or a plugin (either thriftgo&rsquo;s or protoc&rsquo;s). So the directory where kitex is installed must be writable by kitex for it to creates necessary symbol links to distinguish each running mode.</p><pre><code>$&gt; kitex IDL
    |
    | thrift-IDL
    |---------&gt; thriftgo --gen go:... -plugin=... -out ... IDL
    |        |
    |        -----&gt; thrift-gen-kitex (symbol link to kitex)
    |
    | protobuf-IDL
    ----------&gt; protoc --kitex_out=... --kitex_opt=... IDL
             |
             -----&gt; protoc-gen-kitex (symbol link to kitex)
</code></pre><h3 id=library-dependencies>Library Dependencies</h3><p>The codes generated by kitex may depends on certain Go libraries:</p><ul><li>For thrift IDLs, it is <code>github.com/apache/thrift v0.13.0</code></li><li>For protobuf IDLs, it is <code>google.golang.org/protobuf v1.26.0</code></li></ul><p>It is important to note that, from <code>v0.14.0</code>, the APIs in <code>github.com/apache/thrift/lib/go/thrift</code> are <strong>incompatible</strong> with previous versions. If you specify the <code>-u</code> flag when using <code>go get</code> to update dependencies, this library will be updated to the incompatible version and cause compilation failure. You can solve this problem by executing an extra command to choose the appropriate version:</p><pre><code>go get github.com/apache/thrift@v0.13.0
</code></pre><p>or force the version with a <code>replace</code> command:</p><pre><code>go mod edit -replace github.com/apache/thrift=github.com/apache/thrift@v0.13.0
</code></pre><h3 id=notes-for-using-protobuf-idls>Notes for Using Protobuf IDLs</h3><p>The kitex only supports the <a href=https://developers.google.com/protocol-buffers/docs/proto3>proto3</a> version of the protocol buffers language.</p><p>The <code>go_package</code> option in the IDL is required. Its value is a package name sequence separated by dots (<code>.</code>) or by slashes (<code>/</code>). It determines the suffix of the result import path. For instance,</p><pre><code>option go_package = &quot;hello.world&quot;; // or hello/world
</code></pre><p>will generates an import path <code>${imoprt path of the current directory}/kitex_gen/hello/world</code>.</p><h2 id=usage>Usage</h2><h3 id=basic-usage>Basic Usage</h3><p>Syntax: <code>kitex [options] IDL</code></p><p>The following examples uses thrift IDLs. Protobuf IDLs work the same way.</p><h4 id=generate-client-codes>Generate Client Codes</h4><pre><code>kitex path_to_your_idl.thrift
</code></pre><p>When the command is done, there will be a folder named kitex_gen in the current directory. It contains data structure definitions from the IDL and some <code>*service</code> packages providing client APIs for the service definitions from the IDL.</p><h4 id=generate-serverr-codes>Generate Serverr Codes</h4><pre><code>kitex -service service_name path_to_your_idl.thrift
</code></pre><p>When the command is done, in the current directory, there will be a folder named kitex_gen and some other files for building and running a server (namely a scaffold). See the description in section <a href=#the-structure-of-generated-codes>The Structure of Generated Codes</a>.</p><h3 id=the-structure-of-generated-codes>The Structure of Generated Codes</h3><p>Suppose we have two thrift IDLs, demo.thrift and base.thrift that demo.thrift includes base.thrift. In demo.thrift there is a service definition named <code>demo</code>.</p><p>Then in an empty directory, <code>kitex -service demo dem.thrift</code> produces a skeleton of project:</p><pre><code>.
├── build.sh                     // A script to build a server. It creates necessary files and puts them into a folder named 'output'.
├── handler.go                   // Implementation of methods of the service defined in the IDL.
├── kitex_gen                    // IDL relevant generated codes.
│   ├── base                     // Code generated for base.thrift.
│   │   ├── base.go              // Output of thriftgo.
│   │   └── k-base.go            // Codes generated by kitex besides the output of thriftgo.
│   └── demo                     // Code generated for demo.thrift.
│       ├── demo.go              // Output of thriftgo.
│       ├── k-demo.go            // Codes generated by kitex besides the output of thriftgo.
│       └── demoservice          // Codes generated by kitex for services defined in demo.thrift.
│           ├── demoservice.go   // Provides some definitions shared by client.go and server.go.
│           ├── client.go        // Provides NewClient API.
│           └── server.go        // Provides NewServer API.
├── main.go                      // Entry of program.
└── script                       // Build scripts.
    └── bootstrap.sh             // The bootstraip script of server. Will be copied to output by build.sh.
</code></pre><p>If the <code>-service</code> flag is not specified, then only kitex_gen will be generated.</p><h3 id=options>Options</h3><p>The option description here may be outdated. Run <code>kitex -h</code> or <code>kitex --help</code> to get all usable options of kitex.</p><h4 id=-service-service_name><code>-service service_name</code></h4><p>When this option is specified, kitex will generate a scaffold to build a server. Parameter <code>service_name</code> gives the name of the server itself when launched. Its value is usually up to the service registry and service disccovery components when using the Kitex framework.</p><h4 id=-module-module_name><code>-module module_name</code></h4><p>This option is used to specify the Go module the generated codes belongs to. It affects import paths.</p><ol><li><p>If the current directory is a child path of <code>$GOPATH/src</code>, this option can be omitted; kitex will use a path relative to <code>$GOPATH/src</code> as the prefix of import path in generated codes. For example, if you run kitex under <code>$GOPATH/src/example.com/hello/world</code>, the import path of <code>kitex_gen/example_package/example_package.go</code> for other package will be <code>example.com/hello/world/kitex_gen/example_package</code>.</p></li><li><p>If the current directory is not a child path of <code>$GOPATH/src</code>, this option must be specified.</p></li><li><p>If <code>-module</code> is specified, then kitex searches for go.mod from the current directory to the root.</p><ul><li>If go.mod is not found, kitex will generated one with <code>go mod init</code>.</li><li>If go.mod is found, then kitex will check if the module name in go.mod is identical with the argument of <code>-module</code>; if they diffs, kitex will report an error and exit.</li><li>Finally, the position of go.mod and its module names determines the import path in generated codes.</li></ul></li></ol><h4 id=-i-path><code>-I path</code></h4><p>Add a search path for IDLs.</p><h4 id=-type-type><code>-type type</code></h4><p>Specify the type of IDLs. Currently available values are <code>thrift</code> (default value) and <code>protobuf</code>.</p><h4 id=-v-or--verbose><code>-v</code> or <code>-verbose</code></h4><p>Output more logs.</p><h3 id=advanced-options>Advanced Options</h3><h4 id=-use-path><code>-use path</code></h4><p>When generating server codes (with <code>-service</code>), the <code>-use</code> option stops kitex from generating the kitex_gen and uses the import path given by the argument instead.</p><h4 id=-combine-service><code>-combine-service</code></h4><p>For thrift IDLs, when generating codes for a server, kitex only generates methods for the last service definition in the IDL. If there are multiple services in the IDL and you want to export all their abilities, the <code>-combine-service</code> option is for that.</p><p>This option creates a <code>CombineService</code> that assembles all methods of services in the target IDL and uses it in the main package. Notice that no two methods of services can have the same name.</p><h4 id=-protobuf-value><code>-protobuf value</code></h4><p>Pass an argument to protoc. The argument will be appended to the <code>-go_out</code> for protoc. See the documentation of protoc for available values.</p><h4 id=-thrift-value><code>-thrift value</code></h4><p>Pass an argument to thriftgo. The argument will be appended to the <code>-g go:</code> for thriftgo. See the documentation of thriftgo for available values.</p><p>Kitex by default passes <code>naming_style=golint,ignore_initialisms,gen_setter,gen_deep_equal</code> to thriftgo and it can be overridden if you specify the same parameter in addition.</p><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class=feedback--title>Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-4 feedback--answer feedback--answer-yes">Yes</button>
<button class="btn btn-primary mb-4 feedback--answer feedback--answer-no">No</button><p class="feedback--response feedback--response-yes"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>Please tell us how we can improve</a>.</p><p class="feedback--response feedback--response-no"><a href=https://github.com/cloudwego/cloudwego.github.io/issues/new>Please tell us how we can improve</a>.</p></div><script>const yesButton=document.querySelector('.feedback--answer-yes'),noButton=document.querySelector('.feedback--answer-no'),yesResponse=document.querySelector('.feedback--response-yes'),noResponse=document.querySelector('.feedback--response-no'),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=b=>{if(typeof ga!='function')return;const a={command:'send',hitType:'event',category:'Helpful',action:'click',label:window.location.pathname,value:b};ga(a.command,a.hitType,a.category,a.action,a.label,a.value)};yesButton.addEventListener('click',()=>{yesResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(1)}),noButton.addEventListener('click',()=>{noResponse.classList.add('feedback--response__visible'),disableButtons(),sendFeedback(0)})</script><br><div class="text-muted mt-5 pt-3 border-top">Last modified
March 28, 2022
: <a href=https://github.com/cloudwego/cloudwego.github.io/commit/e5346a63e1346347bd2e4f7554d7c2dfd4f36dd2>add news: article-to-learn-about-CloudWeGo(zh) (#155) (e5346a6)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2022 The CloudWeGo Authors All Rights Reserved</small><p class=mt-2><a class=cloudwego-link href=/about/>About CloudWeGo</a></p></div></div></div></footer></div><script src=https://cdn.staticfile.org/popper.js/1.16.1/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.staticfile.org/bootstrap/4.6.0/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/main.min.5c74b870c6953931a705f390a49c7e4c0a842ec5c83b24354758dd674343ed0d.js integrity="sha256-XHS4cMaVOTGnBfOQpJx+TAqELsXIOyQ1R1jdZ0ND7Q0=" crossorigin=anonymous></script></body></html>